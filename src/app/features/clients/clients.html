<div class="h-full flex flex-col">

  <div class="lg:hidden shrink-0 mb-4 flex items-center justify-between">
    <button (click)="isSidebarOpen = true" class="bg-primary text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2 shadow hover:bg-primary-dark transition">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
      Wybierz klienta
    </button>
  </div>

  @if (isSidebarOpen) {
    <div (click)="isSidebarOpen = false" class="fixed inset-0 bg-black/50 z-40 lg:hidden"></div>
  }

  <div class="w-full flex-1 flex gap-5 overflow-hidden">

    <div class="card w-[280px] lg:w-3xs gap-2 h-full flex flex-col overflow-hidden fixed lg:relative top-0 left-0 z-50 lg:z-auto transition-transform duration-300 bg-white lg:translate-x-0 shadow-2xl lg:shadow-sm"
         [class.-translate-x-full]="!isSidebarOpen"
         [class.translate-x-0]="isSidebarOpen">

      <div class="flex items-center justify-between mb-2 shrink-0">
        <div class="text-lg font-semibold text-gray-800">
          Klienci
        </div>
        <button (click)="isSidebarOpen = false" class="lg:hidden p-1 text-gray-400 hover:text-gray-800 hover:bg-gray-100 rounded-md">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>

      <div class="flex flex-col flex-1 overflow-y-auto w-full pr-1">
        <div class="px-6 py-4 text-base font-semibold text-gray-900 bg-gray-100 border-l-4 border-l-primary border-t-gray-100 border-r-gray-100 border-b-gray-100 cursor-pointer">
          Stasiu Sp. z o.o.
        </div>
        <div class="px-6 py-4 text-base font-medium text-gray-800 hover:bg-gray-50 cursor-pointer border-l-4 border-transparent hover:border-gray-400 transition">
          Żabka Mickiewicza
        </div>
        <div class="px-6 py-4 text-base font-medium text-gray-800 hover:bg-gray-50 cursor-pointer border-l-4 border-transparent hover:border-gray-400 transition">
          PSS Społem
        </div>
        <div class="px-6 py-4 text-base font-medium text-gray-800 hover:bg-gray-50 cursor-pointer border-l-4 border-transparent hover:border-gray-400 transition">
          Archelan Kręta
        </div>
        <div class="px-6 py-4 text-base font-medium text-gray-800 hover:bg-gray-50 cursor-pointer border-l-4 border-transparent hover:border-gray-400 transition">
          Makro
        </div>
      </div>
      <div class="flex shrink-0 w-full flex-wrap sm:flex-nowrap">
        <app-button-small class="w-full sm:w-auto" [isFullWidth] = "true" [buttonText]="'Dodaj klienta'"></app-button-small>
      </div>
    </div>

    <div class="flex-1 flex flex-col lg:grid lg:grid-cols-2 xl:grid-cols-3 lg:grid-rows-2 gap-3 h-full overflow-y-auto lg:overflow-hidden pb-4 lg:pb-0 pr-1">

      <div class="card h-auto lg:h-full xl:col-span-1">
        <div class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 shrink-0">Dane klienta</div>
        <div class="flex flex-col gap-5 mb-3 flex-1 lg:overflow-y-auto pr-2">
          <span class="text-2xl font-bold">Stasiu Sp. z o.o.</span>
          <div class="text-lg space-x-2 text-gray-500">
            <span>NIP:</span>
            <span>542-000-11-22</span>
          </div>
          <div class="text-lg space-x-2 text-gray-500">
            <span>Adres:</span>
            <span>Białystok, Wierzbowa 5/19</span>
          </div>
          <div class="text-lg space-x-2 text-gray-500">
            <span>Numer:</span>
            <span>453 123 123</span>
          </div>
        </div>
        <div class="flex shrink-0 w-full flex-wrap sm:flex-nowrap">
          <app-button-small class="w-full sm:w-auto" [isFullWidth] = "true" [buttonText]="'Profil klienta'"></app-button-small>
        </div>
      </div>

      <div class="card lg:row-span-2 h-auto lg:h-full overflow-hidden">
        <div class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 shrink-0">
          Zamówienia
        </div>
        <div class="w-full flex flex-col gap-4 flex-1 max-h-[300px] lg:max-h-none overflow-y-auto pr-2">
          <div class="cursor-pointer hover:bg-gray-50 p-2 -mx-2">
            <div class="text-lg font-semibold">Zamówienie nr 12/02/2026</div>
            <div class="text-gray-500">12.02.2026</div>
            <div class="text-gray-500">Status: W realizacji</div>
          </div>
          <div class="cursor-pointer hover:bg-gray-50 p-2 -mx-2">
            <div class="text-lg font-semibold">Zamówienie nr 08/02/2026</div>
            <div class="text-gray-500">08.02.2026</div>
            <div class="text-gray-500">Status: Zrealizowane</div>
          </div>
          <div class="cursor-pointer hover:bg-gray-50 p-2 -mx-2">
            <div class="text-lg font-semibold">Zamówienie nr 01/02/2026</div>
            <div class="text-gray-500">01.02.2026</div>
            <div class="text-gray-500">Status: Anulowane</div>
          </div>
        </div>
      </div>

      <div class="card lg:row-span-2 h-auto lg:h-full overflow-hidden">
        <div class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 shrink-0 w-full">
          Cennik
        </div>
        <div class="w-full flex flex-col divide-y divide-gray-100 flex-1 max-h-[300px] lg:max-h-none overflow-y-auto pr-2">
          <div class="py-4 flex items-start justify-between">
            <div>
              <div class="text-lg font-semibold">Produkt A</div>
              <div class="text-gray-500">PROD-A-01</div>
            </div>
            <div class="text-xl font-semibold text-gray-900 whitespace-nowrap">120,00 zł</div>
          </div>
          <div class="py-4 flex items-start justify-between">
            <div>
              <div class="text-lg font-semibold">Produkt B</div>
              <div class="text-gray-500">PROD-B-04</div>
            </div>
            <div class="text-xl font-semibold text-gray-900 whitespace-nowrap">89,00 zł</div>
          </div>
          <div class="py-4 flex items-start justify-between">
            <div>
              <div class="text-lg font-semibold">Produkt C</div>
              <div class="text-gray-500">PROD-C-02</div>
            </div>
            <div class="text-xl font-semibold text-gray-900 whitespace-nowrap">45,00 zł</div>
          </div>
        </div>
        <div class="flex gap-3 mt-6 shrink-0 w-full flex-wrap sm:flex-nowrap">
          <app-button-small class="w-full sm:w-auto" [isFullWidth]="true" [buttonText]="'Wydruk'"></app-button-small>
          <app-button-small class="w-full sm:w-auto" [isFullWidth]="true" [buttonText]="'Poprzednie cenniki'"></app-button-small>
        </div>
      </div>

      <div class="card h-auto lg:h-full overflow-hidden xl:col-span-1 border-l-4 border-l-primary border-t-gray-100 border-r-gray-100 border-b-gray-100">
        <div class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 shrink-0">
          Przypomnienia
        </div>
        <div class="flex flex-col gap-4 flex-1 max-h-[200px] lg:max-h-none overflow-y-auto w-full pr-2">
          <div>
            <div class="text-lg font-semibold">Telefon do klienta</div>
            <div class="text-gray-500">Dziś • 14:00</div>
          </div>
          <div>
            <div class="text-lg font-semibold">Wysłanie oferty</div>
            <div class="text-gray-500">Jutro • 09:00</div>
          </div>
          <div>
            <div class="text-lg font-semibold">Sprawdzenie płatności</div>
            <div class="text-gray-500">Wczoraj</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
